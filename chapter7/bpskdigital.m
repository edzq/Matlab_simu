function bpskdigital(s,f)
%??????????BPSK 
% s????????????????????f??????????????????
%??????????bpskdigital([1 0 1 1 0],2)

t=0:2*pi/99:2*pi;                 %????????
cp=[];
mod=[];mod1=[];bit=[];

for n=1:length(s);                % ????????
    if s(n)==0; 
       cp1=-ones(1,100);   
       bit1=zeros(1,100);   
    else s(n)==1;
        cp1=ones(1,100);  
       bit1=ones(1,100);    
    end
    c=sin(f*t);
    cp=[cp cp1];    
    mod=[mod c];    
    bit=[bit bit1];
end

bpsk=cp.*mod;
subplot(2,1,1);                                        %????????????????????????????
plot(bit,'k','LineWidth',1);grid on;    
ylabel('Binary Signal');
axis([0 100*length(s) -2.5 2.5]);
subplot(2,1,2);plot(bpsk,'k','LineWidth',1);grid on;
ylabel('BPSK modulation');
axis([0 100*length(s) -2.5 2.5]);
